/* Line highlight flash animation - fades out smoothly */
@keyframes flash-line-fade {
	0% {
		opacity: 1;
	}
	70% {
		opacity: 0.6;
	}
	100% {
		opacity: 0;
	}
}

.obsidian-flash-line,
.obsidian-flash-cursor-line {
  pointer-events: none; /* ensure overlays never catch clicks */
}

/* Hide the native Obsidian cursor when custom cursor decorations are present */
.cm-content:has(.cursor-flash-block-mark),
.cm-content:has(.cursor-flash-bar),
.cm-line:has(.cursor-flash-block-mark),
.cm-line:has(.cursor-flash-bar) {
  caret-color: transparent !important;
}

/* Hide CodeMirror's cursor layer when custom cursor is active */
.cm-content:has(.cursor-flash-block-mark) .cm-cursorLayer,
.cm-content:has(.cursor-flash-bar) .cm-cursorLayer {
  visibility: hidden !important;
}

/* Make block cursor overlay click-through too */
.cursor-flash-block-mark {
  pointer-events: none;
  contain: paint;
  will-change: opacity, transform;
  /* Use CSS custom properties for dynamic colors */
  background-color: var(--cursor-bg) !important;
  color: var(--cursor-fg) !important;
}

/* Bar cursor - imitates standard Obsidian cursor with custom color */
.cursor-flash-bar {
  pointer-events: none;
  contain: paint;
  will-change: opacity, transform;
  /* Creates a 3px wide vertical line using background gradient */
  background: linear-gradient(90deg, var(--cursor-bg) 0px, var(--cursor-bg) 3px, transparent 3px) !important;
  background-color: transparent !important;
}

@keyframes flash-char-fade {
	0% {
		opacity: 0.9;
	}
	70% {
		opacity: 0.6;
	}
	100% {
		opacity: 0;
	}
}
.obsidian-flash-line, .obsidian-flash-cursor-line {
  pointer-events: none;
  contain: paint;
  will-change: opacity, transform;
}

/* Fix toggle switch colors in settings to respect theme accent color */
.visible-cursor-settings .checkbox-container {
  background-color: var(--background-modifier-border) !important;
}

.visible-cursor-settings .checkbox-container.is-enabled {
  background-color: var(--interactive-accent) !important;
}